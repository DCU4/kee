<!DOCTYPE html>
<html>
    <head>
            <meta name="viewport" content="width=device-width, initial-scale=1">
            <meta charset="utf-8">
            <link rel="stylesheet" type="text/css" href="css/style.css">
            <link href="https://fonts.googleapis.com/css?family=Noto+Sans+KR:400,700" rel="stylesheet">
            <title>Kee</title>

    </head>

    <!--<body onload="savedInit()">-->

    <body>
        <div class="saved">
                <nav>
                    <div id="menu" class="menu">
                        <span id="menu-line-1" class="menu-line"></span>
                        <span id="menu-line-2" class="menu-line"></span>
                        <div id="menu-list" class="menu-list">
                                <span class="menu-line line-1-x"></span>
                                <span class="menu-line line-2-x"></span>
                            <li class="menu-items"><a href="/">Draw</a></li>
                            <li class="menu-items"><a href="">About</a></li>
                            <li class="menu-items"><a href="/saved">History</a></li>
                        </div>
                    </div>
                </nav>




                <div class="kee-container" >


                    <%
                    var date = [];
                    // var users = []
                    // console.log(kees)
                    // console.log(users)


                    var month = [];
                    month[0] = "January";
                    month[1] = "February";
                    month[2] = "March";
                    month[3] = "April";
                    month[4] = "May";
                    month[5] = "June";
                    month[6] = "July";
                    month[7] = "August";
                    month[8] = "September";
                    month[9] = "October";
                    month[10] = "November";
                    month[11] = "December";
                    var months = [];
                    kees.forEach(function(kee){
                        date.push(kee.created.toDateString());
                        // console.log(kee.created.getMonth());
                        // users.push(kee.user.username)
                        // console.log(kee.user.username);
                        // console.log(req.user)
                        // console.log(kee.created.getMonth());
                        months.push(month[kee.created.getMonth()]);


                    });
                    // console.log(months);
                    var mons = [...new Set(months)];

                    var days = [...new Set(date)];
                        // return days;
                        console.log(days);

                        // days.forEach(function(day,d) {
                        mons.forEach(function(mon,m){




                    %>

                        <p class="date" ><%= //days[d]
                        mons[m] %></p>

                        <div class="notes">
                    <% // users.forEach(function(user,u) {
                    kees.forEach(function(kee, i){
                    // var d = kee.created.getDate();
                    // var m = kee.created.getMonth();
                    // var y = kee.created.getFullYear();


                    // var m = month[kee.created.getMonth()]
                    // console.log(kee.created.toDateString())
                    // console.log(m);
                    // var weekday = [];
                    // weekday[0] = "Sunday";
                    // weekday[1] = "Monday";
                    // weekday[2] = "Tuesday";
                    // weekday[3] = "Wednesday";
                    // weekday[4] = "Thursday";
                    // weekday[5] = "Friday";
                    // weekday[6] = "Saturday";

                    // var day = weekday[kee.created.getDay()];

                     //for each day in days, display all of the notes for that day
                    //   if (kee.created.toDateString() === days[d]) {
                    console.log(mon,month[kee.created.getMonth()],kee.created.getMonth(),m);
                    if(month[kee.created.getMonth()] == mons[m]) {
                            //  console.log(days[d],kee.created.toDateString(),d);

                    %>

                        <a href="/saved/<%= kee._id %>">
                            <img crossorigin="anonymous" class="saved-image" src="<%= kee.image %>" id="mySavedImg<%= kee._id %>"/>
                        </a>

                    <%  }  });   %>
                    </div>
                <% });   %>

            </div>


        </div>

  <% include partials/footer %>